### Health
GET http://localhost:5050/api/health

### Cycle info
GET http://localhost:5050/api/cycle?packType=combined_24_4&startDate=2025-11-01

### Interactions (Demo Mode)
# Set USE_DEMO_DATA=true in .env
POST http://localhost:5050/api/check-interactions
Content-Type: application/json

{
  "meds": ["rifampin", "St. John's Wort", "topiramate"],
  "pillType": "combined"
}

### Interactions (Real API Mode)
# Set USE_DEMO_DATA=false in .env
# Tests RxNav interaction API
POST http://localhost:5050/api/check-interactions
Content-Type: application/json

{
  "meds": ["rifampin", "topiramate"],
  "pillType": "combined"
}

### Interactions - No interactions expected
POST http://localhost:5050/api/check-interactions
Content-Type: application/json

{
  "meds": ["ibuprofen", "acetaminophen"],
  "pillType": "combined"
}

### Side effects
GET http://localhost:5050/api/side-effects?kind=combined

### AI - Classify effects from diary text
# Requires OPENAI_API_KEY in .env
POST http://localhost:5050/api/ai/classify-effects
Content-Type: application/json

{
  "text": "I felt nauseous today and had a mild headache. Also feeling really bloated."
}

### AI - Classify with custom parameters
POST http://localhost:5050/api/ai/classify-effects
Content-Type: application/json

{
  "text": "Feeling really tired and anxious, also some mood swings",
  "topK": 5,
  "minSim": 0.6
}

### AI - Empty text (should return empty tags)
POST http://localhost:5050/api/ai/classify-effects
Content-Type: application/json

{
  "text": ""
}

### AI Triage - Comprehensive analysis with interactions
# Uses deterministic summary (no AI hallucinations)
POST http://localhost:5050/api/ai/triage
Content-Type: application/json

{
  "pillType": "combined",
  "symptoms": "Feeling nauseous and have mood swings",
  "meds": ["ibuprofen", "rifampin"]
}

### AI Triage - No other medications
POST http://localhost:5050/api/ai/triage
Content-Type: application/json

{
  "pillType": "combined",
  "symptoms": "Mild headache and breast tenderness",
  "meds": []
}

### AI Triage - Progestin-only pill
POST http://localhost:5050/api/ai/triage
Content-Type: application/json

{
  "pillType": "progestin_only",
  "symptoms": "Irregular bleeding and spotting",
  "meds": ["topiramate"]
}

### AI Explain Interactions - Evidence-locked explanations
# Requires OPENAI_API_KEY for AI explanations
# Works without API key (returns empty explanation)
POST http://localhost:5050/api/ai/explain-interactions
Content-Type: application/json

{
  "pillType": "combined",
  "symptoms": "nausea and mood swings",
  "meds": ["rifampin"]
}

### AI Explain - Multiple symptoms
POST http://localhost:5050/api/ai/explain-interactions
Content-Type: application/json

{
  "pillType": "combined",
  "symptoms": "headache, breast tenderness, and mood changes",
  "meds": ["topiramate", "ibuprofen"]
}

### AI Explain - No symptoms (interactions only)
POST http://localhost:5050/api/ai/explain-interactions
Content-Type: application/json

{
  "pillType": "combined",
  "symptoms": "",
  "meds": ["rifampin", "st. john's wort"]
}

